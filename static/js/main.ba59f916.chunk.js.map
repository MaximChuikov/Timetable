{"version":3,"sources":["panels/ViewTimetable.js","panels/Timetable.js","App.js","index.js","server/database.js"],"names":["database","require","ViewTimetable","time","props","panelId","arr","dummyBD","map","x","before","pair","description","teacher","lesson","panels","Timetable","React","useState","activeView","setActiveView","file","times","toGive","today","activeStory","tabbar","selected","onClick","text","id","tomorrow","week","App","bridge","send","ReactDOM","render","document","getElementById","getWeekTable","timeTable","firstWeek","secondWeek","weekAfter","day","Math","floor","Date","getTime","dayFromSunday","getDay","todayFromMonday","console","log"],"mappings":"kPAGMA,EAAWC,EAAQ,IAqBVC,EAjBO,SAAC,GAA+B,IAA9BC,EAA6B,EAA7BA,KAAkBC,GAAW,EAAvBC,QAAuB,kBAC3CC,EAAMN,EAASO,QAAQJ,GAC7B,OACI,cAAC,IAAD,2BAAUC,GAAV,aACI,eAAC,IAAD,WACI,8FACA,cAAC,IAAD,UACKE,EAAIE,KAAI,SAAAC,GAAC,OACN,cAAC,IAAD,CAAYC,OAAQD,EAAEE,KAAMC,YAAaH,EAAEI,QAA3C,SACKJ,EAAEK,qBCYzBC,EACE,QADFA,EAEK,WAFLA,EAGC,OA2CQC,EAxCG,WACjB,MAAoCC,IAAMC,SAASH,GAAnD,mBAAOI,EAAP,KAAmBC,EAAnB,KACMC,EAAOpB,EAAQ,IACfqB,EAAQD,EAAKE,OAInB,OAFAF,EAAKd,QAAQe,EAAME,OAGjB,eAAC,IAAD,CAAMC,YAAaN,EACnBO,OACC,eAAC,IAAD,WACC,cAAC,IAAD,CACCC,SAAUR,IAAeJ,EACzBa,QAAS,kBAAMR,EAAcL,IAC7Bc,KAAK,6CAHN,SAIC,cAAC,IAAD,MAGD,cAAC,IAAD,CACCF,SAAUR,IAAeJ,EACzBa,QAAS,kBAAMR,EAAcL,IAC7Bc,KAAK,uCAHN,SAIC,cAAC,IAAD,MAGD,cAAC,IAAD,CACCF,SAAUR,IAAeJ,EACzBa,QAAS,kBAAMR,EAAcL,IAC7Bc,KAAK,uCAHN,SAIC,cAAC,IAAD,SArBH,UAyBC,cAAC,IAAD,2EACA,cAAC,EAAD,CAAeC,GAAIf,EAAcZ,KAAMmB,EAAME,QAC7C,cAAC,EAAD,CAAeM,GAAIf,EAAiBZ,KAAMmB,EAAMS,WAChD,cAAC,EAAD,CAAeD,GAAIf,EAAaZ,KAAMmB,EAAMU,WCtDjCC,EAVH,WACX,OACC,cAAC,IAAD,UACC,cAAC,IAAD,UACC,cAAC,EAAD,SCJJC,IAAOC,KAAK,gBAEZC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,U,y/UCRjD,kGAEMhB,EAAS,CACXC,MAAO,QACPO,SAAU,WACVC,KAAM,QAGJQ,EAAe,SAACR,GAAD,OAAkB,GAARA,EAAYS,EAAUC,UAAYD,EAAUE,YACrEC,EAAY,SAACC,GAAD,OAASC,KAAKC,QAAQF,EAAM,GAAK,GAAI,IAAIG,MAAOC,UAAY,QAAa,IAE3F,SAAS1C,EAAQJ,GACb,IAAM+C,GAAgB,IAAIF,MAAOG,SAC3BC,EAAkBF,EAAgB,IAAM,EAAI,EAAIA,EAAgB,EAEtE,OAAQ/C,GACJ,KAAKoB,EAAOC,MACR,OAAOgB,EAAaI,EAAU,IAAIQ,GACtC,KAAK7B,EAAOQ,SACR,OAAOS,EAAaI,EAAU,KAAKQ,EAAkB,GAAK,GAC9D,KAAK7B,EAAOS,KACR,OAAOQ,EAAaI,EAAU,IAClC,QAEI,OADAS,QAAQC,IAAI,uBAA0BnD,EAAO,WACtCqC,EAAaI,EAAU,IAAIQ,O","file":"static/js/main.ba59f916.chunk.js","sourcesContent":["import React from 'react';\r\nimport {Cell, Group, Header, Panel, SimpleCell, Text, Textarea, View} from \"@vkontakte/vkui\";\r\n\r\nconst database = require('../server/database');\r\n\r\n\r\n\r\nconst ViewTimetable = ({time, panelId, ...props}) => {\r\n    const arr = database.dummyBD(time);\r\n    return(\r\n        <View {...props}>\r\n            <Panel>\r\n                <h1>Расписание</h1>\r\n                <Group>\r\n                    {arr.map(x =>\r\n                        <SimpleCell before={x.pair} description={x.teacher}>\r\n                            {x.lesson}\r\n                        </SimpleCell>\r\n                    )}\r\n                </Group>\r\n            </Panel>\r\n        </View>\r\n    );\r\n};\r\nexport default ViewTimetable;","import React from 'react';\nimport {\n\tPanel,\n\tPanelHeader,\n\tGroup,\n\tCell,\n\tView,\n\tEpic,\n\tTabbar,\n\tTabbarItem,\n\tSplitCol,\n\tPlaceholder,\n\tPanelHeaderBack,\n\twithAdaptivity,\n\tusePlatform,\n\tViewWidth,\n\tVKCOM, SplitLayout, Root, CellButton, Button, Text, Header,\n\n} from '@vkontakte/vkui';\nimport {\n\tIcon28CalendarOutline, Icon28MessageOutline, Icon28NewsfeedOutline, Icon28ServicesOutline,\n\tIcon28UserCircleOutline,\n\tIcon56NewsfeedOutline\n} from '@vkontakte/icons';\nimport ViewTimetable from \"./ViewTimetable\";\n\n\n\nconst panels = {\n\ttoday: 'today',\n\ttomorrow: 'tomorrow',\n\tweek: 'week',\n};\n\nconst Timetable = () => {\n\tconst [activeView, setActiveView] = React.useState(panels.today);\n\tconst file = require('../server/database');\n\tconst times = file.toGive;\n\n\tfile.dummyBD(times.today);\n\n\treturn(\n\t\t <Epic activeStory={activeView}\n\t\t tabbar={\n\t\t \t<Tabbar>\n\t\t \t\t<TabbarItem\n\t\t \t\t\tselected={activeView === panels.today}\n\t\t \t\t\tonClick={() => setActiveView(panels.today)}\n\t\t \t\t\ttext=\"Сегодня\">\n\t\t \t\t\t<Icon28CalendarOutline />\n\t\t \t\t</TabbarItem>\n\n\t\t \t\t<TabbarItem\n\t\t \t\t\tselected={activeView === panels.tomorrow}\n\t\t \t\t\tonClick={() => setActiveView(panels.tomorrow)}\n\t\t \t\t\ttext=\"Завтра\">\n\t\t \t\t\t<Icon28CalendarOutline />\n\t\t \t\t</TabbarItem>\n\n\t\t \t\t<TabbarItem\n\t\t \t\t\tselected={activeView === panels.week}\n\t\t \t\t\tonClick={() => setActiveView(panels.week)}\n\t\t \t\t\ttext=\"Неделя\">\n\t\t \t\t\t<Icon28CalendarOutline />\n\t\t \t\t</TabbarItem>\n\t\t \t</Tabbar>\n\t\t }>\n\t\t \t<Header>Расписание</Header>\n\t\t \t<ViewTimetable id={panels.today} time={times.today}/>\n\t\t \t<ViewTimetable id={panels.tomorrow} time={times.tomorrow}/>\n\t\t \t<ViewTimetable id={panels.week} time={times.week}/>\n\t\t</Epic>\n\t)\n}\nexport default Timetable;\n","import React, { useState, useEffect } from 'react';\nimport bridge from '@vkontakte/vk-bridge';\nimport { View, ScreenSpinner, AdaptivityProvider, AppRoot } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport TimetableViewer from './panels/Timetable';\n\nconst App = () => {\n\treturn (\n\t\t<AdaptivityProvider>\n\t\t\t<AppRoot>\n\t\t\t\t<TimetableViewer/>\n\t\t\t</AppRoot>\n\t\t</AdaptivityProvider>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\")\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\nif (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n}\n","import timeTable from './Weeks.json';\r\n\r\nconst toGive = {\r\n    today: \"Today\",\r\n    tomorrow: \"Tomorrow\",\r\n    week: \"Week\",\r\n}\r\n\r\nconst getWeekTable = (week) => week == 1 ? timeTable.firstWeek : timeTable.secondWeek;\r\nconst weekAfter = (day) => Math.floor(((day - 4) / 7 + new Date().getTime() / 604800000) % 2);\r\n\r\nfunction dummyBD(time){\r\n    const dayFromSunday = new Date().getDay();\r\n    const todayFromMonday = dayFromSunday - 1 == -1 ? 6 : dayFromSunday - 1;\r\n\r\n    switch (time){\r\n        case toGive.today:\r\n            return getWeekTable(weekAfter(0))[todayFromMonday];\r\n        case toGive.tomorrow:\r\n            return getWeekTable(weekAfter(1))[(todayFromMonday + 1) % 7];\r\n        case toGive.week:\r\n            return getWeekTable(weekAfter(0));\r\n        default:\r\n            console.log(\"Error in switch at \\\"\" + time + \"\\\" value\");\r\n            return getWeekTable(weekAfter(0))[todayFromMonday];\r\n    }\r\n}\r\nexport {\r\n    dummyBD,\r\n    toGive\r\n}"],"sourceRoot":""}